import os
import random
import string

save = []

def changeToNormal():
    # Get the current working directory
    cwd = os.getcwd()
    # Get the list of files in the current working directory
    files = os.listdir(cwd)
    # Iterate over the list of files
    for file in files:
        # Get the file extension
        extension = os.path.splitext(file)[1]
        # If the file extension is .exe.corrupt, rename it to .exe
        if extension == '.MAKE ME SMILE':
            os.rename(file, file + '.txt')
            # change the text in the file

    # save the contents of the file to a list
def saveFile():
    # Get the current working directory
    cwd = os.getcwd()
    # Get the list of files in the current working directory
    files = os.listdir(cwd)
    # Iterate over the list of files
    for file in files:
        # save the text to save
        if file.endswith('.txt'):
            with open(file, 'r') as f:
                save.append(f.read())

# save the save list to a file
def saveToFile():
    with open('save.uncorrupted', 'w') as f:
        for item in save:
            f.write("%s\n" % item)

def corruptor():
    saveFile()
    saveToFile()
    # Get the current working directory
    cwd = os.getcwd()
    # Get the list of files in the current working directory
    files = os.listdir(cwd)
    # Iterate over the list of files
    for file in files:
        # Get the file extension
        extension = os.path.splitext(file)[1]
        # If the file extension is .exe, rename it to .exe.corrupt
        if extension != '.py' and extension == '.txt':
            with open(file, 'w') as f:
                f.write(''.join(random.choice(string.ascii_letters) for i in range(10000*1000)))
            os.rename(file, file + '.MAKE ME SMILE')
            # change the text in the file
            


confirmation = input("Are you sure you want to corrupt all .txt files in the current directory? (y/n) ")

if confirmation == 'y':
    corruptor()

    print("Done!")
else:
    print("Aborted!")

input("Your files were backed up before corruption in a single file called 'save.uncorrupted'.\nIf you wish to acess it just rename the extension to .txt!\nPress enter to exit.")